public:: true

- #Public page
	- Automatically published.
- Modern blockchain implementations increasingly emphasise programmability through smart contracts and the issuance of arbitrary tokens. This involves assigning a transaction to represent various entities, such as economic units, energy units, or real-world objects, and operating on these abstractions within the chain logic. A key use case is stablecoins like Tether, which are pegged to national currencies, discussed in the next section. Bitcoin has historically supported only limited contracts called scripts, yet stablecoin issuance has existed on Bitcoin since the [Omni Layer](https://www.omnilayer.org/). Omni was the initial issuer of Tether, but these features have now transitioned to other layer one chains. This year may witness the [resurgence of this capability](https://www.hiro.so/blog/bitcoin-ecosystem-a-guide-to-programming-languages-for-bitcoin-smart-contracts) on Bitcoin, benefiting from a superior security model. However, there remains a strong argument by some that [this may not even be possible](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-April/020227.html). The debate is complex and unresolved.
- To properly understand the use of Bitcoin-based technologies in metaverse applications, it is essential to explore what these newer 'layer 3' ideas might offer.
- ## LNP/BP and RGB
- [LNP/BP](https://giacomozucco.com/layers-before-bitcoin) is a non-profit standards organisation in Switzerland that contributes to open-source development of Bitcoin layer 3 solutions within the Lightning and Bitcoin protocols (LNP/BP). A core product of their work is the [‘RGB’ protocol](https://www.rgb.tech/), a somewhat obscure name evolved from "coloured coins," an early tokenised asset system on the Bitcoin network. RGB stands for red, green, and blue. The proposal builds on research by [Todd](https://petertodd.org/2016/commitments-and-single-use-seals) and [Zucco](https://giacomozucco.com/#intro), and is considered arcane technology even within Bitcoin developer communities. Zucco provides the [following explanation](https://bitcoinmagazine.com/culture/video-interview-giacomo-zucco-rgb-tokens-built-bitcoin):
	- “When I want to send you a bitcoin, I will sign the transaction and give it only to you for verification. We’ll then take a commitment to this transaction and provide only the commitment to miners. Miners build a blockchain of commitments without actual validation, which is left solely to you. When you want to send the assets to someone else, you’ll pass along your signature, plus mine, and any previous signatures.”
	- This explanation pertains to Todd's 'single-use-seals' applied to Bitcoin, designed to support the transfer of arbitrary assets secured by the Bitcoin network. In this model, the transacting parties are the exclusive holders of the information about what the object they are transferring actually represents. This concept has been expanded by the LNP/BP group into ‘client-side validation’. Given its potential for metaverse applications, it's worth explaining this concept from multiple perspectives.
		- A promise is made to spend a multi-output transaction in the future, establishing RGB relationships between the parties.
		- One of the public keys to be spent is known by both parties.
		- The second output is unknown and is a combination of the hash of the state and schema from the operation performed.
		- When the UTXO is spent, the second output's public key can be processed against the shared data blob to validate the shared state in a two-party consensus.
		- This is now tethered to the main chain. Some tokens from the issuance go to the recipient, and the remainder return to the issuer. More tokens can be issued similarly from this pool.
		- A token schema in the blob will show the agreed issuance and the history back to the genesis for the token holder.
		- The data blob contains the schema, which is key to RGB functions and innovation.
		- Each issuance must be verified on-chain by the receiving party.
	- This leverages the single-use-seal concept to introduce smart contracts and more advanced capabilities to Bitcoin. Notably, this differs conceptually from highly expressive ‘layer one’ chains that provide this functionality within their chain logic. In LNP/BP technologies, the state data is owned, controlled, and stored by the transacting parties. Bitcoin provides cryptographic external proof of a state change if required. This is an elegant solution as it occupies minimal space on the blockchain, is inherently private, and is extendable to layer 2 protocols like Lightning.
	- The expanding ecosystem of client-side verified proposals includes:
		- RGB smart contracts.
		- RGB assets: fungible tokens on Bitcoin L1 and L2, and non-fungible on Bitcoin L1 (and somewhat on L2).
		- Bifrost, an [extension](https://github.com/LNP-BP/presentations/blob/master/Presentation%20slides/Bifrost.pdf) to the Lightning protocol with its own Rust-based node implementation and backwards compatibility with other nodes in the network. It can participate in normal Lightning routing behaviour with other peers while also negotiating additional data transfer for tokens between Bifrost-enabled parties. Bifrost also acts as a generic peer-to-peer data network, enabling features like Storm file storage and Prometheus.
		- [AluVM](https://www.aluvm.org/) is a RISC-based virtual machine (programmable strictly in assembly) that can execute Turing-complete complex logic, but only outputs a boolean result compliant with the client-side validation system. This allows a true or false outcome to be returned into Bitcoin-based logic, while remaining arbitrarily complex within the contract parties’ execution.
		- Contractum, a proposed smart contract language that will compile RGB20 contracts within AluVM (or other client-side VMs) to provide accessible layer 3 smart contracts on Bitcoin. It is still in the early proposal stage.
		- Internet2: "Tor/noise-protocol Internet apps based on Lightning secure messaging."
		- Storm, a lightly specified escrow-based bitcoin data storage layer compatible with Lightning through Bifrost.
		- Prometheus, a lightly specified multiparty high-load computing framework.
	- Any computational problem can be applicable to client-side validation. In simple terms, a conventional computational problem is solved, and the cryptographically verifiable proof of this action is made available to the stakeholders on the Bitcoin ledger.
	- The more imminent proposed affordances of LNP/BP are described in ‘schema’ on the project's [GitHub](https://github.com/LNP-BP/LNPBPs). The most interesting to the technically minded layperson include:
		- [RGB20](https://github.com/LNP-BP/LNPBPs/blob/master/lnpbp-0020.md) fungible assets. This could include stablecoins representing currencies like the dollar or pound. Bitfinex exchange [has code](https://github.com/RGB-Tools/rgb-lightning-sample) that already works with RGB to transmit Tether stablecoins on testnet. This is a significant application area for Bitcoin, similar to Omni, which will be covered next.
		- [RGB21](https://github.com/LNP-BP/LNPBPs/blob/master/lnpbp-0021.md) for non-fungible tokens and ownership rights. Bifrost allows these to be transferred over the Lightning network, significantly lowering the barrier to entry for this technology. DIBA [has this technology working](https://diba.io/) on testnet.
		- [RGB22](https://github.com/LNP-BP/LNPBPs/issues/29) may provide a route to identity proofs, covered in detail later.
	- Federico Tenga, CEO of 'Chainside', is an educator and consultant in this space. He has written an up-to-date [“primer”](https://medium.com/@FedericoTenga/understanding-rgb-protocol-7dc7819d3059) that, while still complex for beginners, captures how the RGB token transfer system works. That article also touches on Taro, which is discussed next.
- ## DIBA and Bitcoin’s Unique Digital Assets
- DIBA is a pioneering digital asset marketplace powered by the [RGB Smart Contract Protocol](https://www.rgb.tech/). It enables the creation and direct transaction of Unique Digital Assets (UDAs), akin to Non-Fungible Tokens (NFTs), on Bitcoin without requiring other tokens. UDAs are special digital assets linked to a Bitcoin UTXO (unspent transaction output), embodying distinctive attributes like ownership, transferability, and divisibility, and remaining under the full control and ownership of their creators.
- Through DIBA, users can explore, purchase, and sell a wide array of UDAs, benefiting from the robustness and permanence of the Bitcoin blockchain. DIBA’s innovation extends to integrating a Lightning layer 2 solution, aiming to facilitate faster and more affordable transactions.
- Assets minted via DIBA are bound to Bitcoin’s base layer with an on-chain UTXO. They are subsequently stored on the Arweave permaweb alongside a cryptographic hash, which, combined with a digital signature, validates their authenticity. The RGB Smart Contract Protocol executes UDA transactions via BitMask, a wallet developed by the DIBA Team.
- ## BitMask
- BitMask is a browser extension wallet created by DIBA for decentralised applications on Bitcoin. It grants access to Bitcoin Finance, UDAs, and more, utilising the RGB protocol. It provides comprehensive financial autonomy with its taproot-enabled Bitcoin and Lightning Network wallet, establishing itself as a gateway to DeepWeb3 on Bitcoin. More details can be found on Bitmask.app.
- ## DIBA’s Launch and Marketplace Timelines
- DIBA initiated an Open Marketplace for Beta testing in April 2022, available on Bitcoin testnet. The full launch on Bitcoin mainnet is expected in the second or third quarter of 2022. Submissions for the DIBA Curated Marketplace are currently open, allowing individuals to apply as an Artist or Curator.
- These developments represent a significant expansion of the capabilities within the Bitcoin network and further attest to the potential of LNP/BP’s work. Notably, DIBA [has this technology working](https://diba.io/) on testnet. The broad application areas for Bitcoin, such as the transmission of Tether stablecoins on testnet by Bitfinex exchange [via RGB](https://github.com/RGB-Tools/rgb-lightning-sample), underscore the potential impact of these advancements.
- ## Taro / Taproot Assets
- Taproot Assets is the new name for Lightning Labs’ ‘Taro,’ a [new initiative](https://lightning.engineering/posts/2022-4-5-taro-launch/) to allow assets to be transmitted on the Lightning network. It is more similar to RGB than to Omnibolt, discussed below. [They say](https://docs.lightning.engineering/the-lightning-network/taproot-assets): “Taproot Assets is a new Taproot-powered protocol for issuing assets on the bitcoin blockchain. Taproot Assets (formerly Taro) is a new Taproot-powered protocol for issuing assets on the bitcoin blockchain that can be transferred over the Lightning Network for instant, high-volume, low-fee transactions.”
- The project has been [under development](https://github.com/roasbeef/bips/tree/bip-taro) by the lead developer at Lightning Labs for several years and seems both [capable](https://lightninglabs.substack.com/p/bitcoinizing-the-dollar-and-the-world?s=r) and mature. However, they appear to be following the model of ‘co-opting’ open-source ideas (from RGB) to secure venture capital funding. They [credit RGB](https://github.com/bitcoin/bips/pull/1298/commits/4daba8c373c777defb48136795382803c137502c) on GitHub. This section will likely be expanded as the project progresses. Taro seems less broadly ambitious than RGB but perhaps more focused and implemented. A key feature of Taro is that only the first and last hops in a multi-hop Lightning transaction need to support Taro, thanks to external data validation databases called “universes”. This represents an advance on the RGB proposal. The technical specifications are now on the [Lightning Labs webpages](https://docs.lightning.engineering/the-lightning-network/taro), and [code has been released](https://lightning.engineering/posts/2022-9-28-taro-launch/). The beta programme uses testnet. There are concerns that large amounts of synthetic dollars on the protocol could be used to create ‘incentives’ for a Bitcoin hard fork, potentially under Tether's control.
- ## ZeroSync
- The recent ZeroSync paper offers a tantalising glimpse of a highly compressed, performant, and private version of Bitcoin. It potentially addresses Bitcoin’s scalability challenges using advanced cryptographic techniques (SNARKs). It compresses the entire Bitcoin blockchain, enabling instant verification and various innovative applications such as faster full nodes, trustless light clients, improved privacy, and secure cross-chain bridges. Additionally, zkCoins is a protocol that enhances the privacy and throughput of arbitrary tokens, possibly leading to more private and scalable digital assets.
- ## Spacechains
- Spacechains is a [proposal](https://medium.com/@RubenSomsen/21-million-bitcoins-to-rule-all-sidechains-the-perpetual-one-way-peg-96cb2f8ac302) by Ruben Somsen to provide the functionality of any conceivable blockchain by making it a sidechain to Bitcoin.
	- Like RGB described earlier, it’s a single-use seal, but one that can be closed by the highest bidder.
	- In a spacechain, Bitcoin tokens are destroyed to provably create the new spacechain’s tokens at a 1:1 value. These new tokens only have value within the new chain ecosystem they represent, as they cannot be converted back. Nonetheless, they retain the same security guarantees as the Bitcoin main chain, though with a drastically reduced ecological footprint (x1000?) and higher performance. Each ‘block’ in the new chain is a single Bitcoin transaction.
	- The high-level features are:
		- Outsourcing mining to BTC with only a single transaction per block on the main chain.
		- One-way peg, where Bitcoin is burnt to create spacechain tokens.
		- Allows permissionless chain creation, without a speculative asset.
		- Fee bidding BMM is space-efficient and incentive compatible. Miners just take the highest fees as usual.
		- Paul Sztorc raised the idea.
		- It works best with a soft fork but is possible without.
- The concept is [fully explained](https://vimeo.com/703246895/d89aba6e56) in a recent presentation at the Advancing Bitcoin conference. Developer Fiatjaf has already created a basic Spacechains-based [asset trading system](https://github.com/nbd-wtf/soma) called Soma, which can be run, albeit limited to Signet, one of the local Bitcoin testnets, modified with AnyPrevOut described elsewhere in this book.
- ## Statechains, Drivechain, Softchains
- There are many [proposals for layer 2 scaling solutions](https://gist.github.com/RubenSomsen/96505e99dc061d6af6b757ff74434e70) for the Bitcoin network. Ruben Somsen [describes Softchains, Statechains, and Spacechains](https://gist.github.com/RubenSomsen/c9f0a92493e06b0e29acced61ca9f49a), while [Drivechain is described](https://www.drivechain.info/literature/index.html) by the author Paul Sztorc on the project web pages and is split across [BIP-0300](https://github.com/bitcoin/bips/blob/master/bip-0300.mediawiki) for Drivechain and [BIP-0301](https://github.com/bitcoin/bips/blob/master/bip-0301.mediawiki) for "blind merge mining," a soft fork which is unlikely to happen. All are hypothetical, except for sidechains.
- ## Ark 2: Covenant-less, Offline Payments, and More
- Ark v0.2 marks a significant milestone with several exciting new features and improvements, including covenant-less Ark implementation, offline payments, client SDKs, and MutinyNet support. These updates not only enhance the Ark protocol but also streamline its integration with the Bitcoin network.
- ### Covenant-less Ark
- The latest Go implementation of Ark now supports covenant-less operations, enabling seamless integration with Bitcoin. Building upon the initial Rust prototype, the covenant-less version has been merged into the arkd server and ark client, alongside the covenant version for the Liquid Network. This development allows users to leverage the Ark protocol on Bitcoin without requiring a covenant soft-fork.
	- The covenant-less version includes an embedded Bitcoin wallet, simplifying deployment and management. New environment variables have been added to configure arkd for use on Bitcoin or Liquid, offering greater flexibility for various use cases. Notably, only the covenant-less version is supported on Bitcoin.
	- Management capabilities have been enhanced with a new Admin API, allowing direct control of the on-chain wallet used by the ark server. These APIs enable administrators to initialise and unlock the wallet, retrieve addresses, and check balances. The arkd can now function as a CLI tool to interact with the wallet via the new admin APIs.
	- Authentication has been upgraded from BasicAuth to macaroons, improving security and offering more granular access control.
	- While significant progress has been made, some features are still under development for the covenant-less Ark server, including wallet restoration and VTXO tree sweeping. Additionally, the protocol implementation is not fully trustless as designed; currently, the VTXO tree is signed only by the server, lacking user signatures. Efforts are ongoing to address these aspects and ensure a robust and complete implementation.
- ### Client SDKs
- Ark v0.2 introduces new client SDKs, making it easier than ever to integrate Ark into your projects. The SDKs include both a Go package and a WASM binary for JavaScript, allowing web developers to experiment with Ark in their wallets and applications.
	- The Go SDK allows seamless integration with Go-based projects. For example, a new Ark wallet can be created and managed with a few lines of code, as demonstrated in the provided example. This SDK facilitates the setup, initialisation, and management of Ark wallets, including balance checks and transaction handling.
- ### Offline Payments
- Ark now supports offline payments in its Go implementation, significantly enhancing user flexibility. This feature allows senders to co-sign transactions with the Ark Service Provider (ASP) and deliver payment requests directly to recipients, even when they are offline.
	- Recipients can join the next round to enter the VTXO tree when they come back online, without needing to be online at the time of the sender's payment request. This feature is particularly beneficial for users in areas with limited internet connectivity.
	- While offline payments represent a significant step forward in liquidity efficiency, the feature is still under development and currently has some limitations. The implementation is not yet fully trustless, as users and the server do not verify transactions exchanged offline, relying on the counterparty's trust. Additionally, the server assumes that clients will not act maliciously and does not yet implement strategies to handle adversarial scenarios during offline payments.
	- Offline payments are currently implemented only for the covenant-less version of the Ark server running on the Bitcoin chain. The Ark CLI has been updated to use offline payment APIs by default when sending bitcoins off-chain, with a new claim command introduced for receivers to join a round and settle their funds.
	- The Ark team is actively working to extend offline payment support to the covenant version as well. Once this goal is achieved, the current SDK API for off-chain payments will be deprecated in favour of SendAsync and ClaimAsync as the default payment protocol.
- ### MutinyNet Support
- Ark v0.2 now includes support for MutinyNet, a custom Bitcoin signet created by the Mutiny team. MutinyNet offers several advantages for developers and testers:
	- Faster block times: MutinyNet features 30-second block times, significantly speeding up testing and development processes.
	- Pre-configured infrastructure: It includes pre-configured lightning nodes, a faucet, a Lightning Service Provider (LSP), and a rapid gossip sync server.
	- Realistic network simulation: MutinyNet provides a more realistic testing environment compared to regtest, allowing for better validation of features and bug fixes.
	- To use Ark with MutinyNet, configure your arkd to connect to the MutinyNet signet. An example setup is provided to help you get started.
- ### Getting Started with Ark v0.2
- To explore the latest documentation and resources, visit the Ark Developer Portal. The guides have been updated to reflect the new features and improvements in Ark v0.2, making it easier to get started with the protocol.
	- We recommend following the Quick Start Guide to set up a local Bitcoin regtest network and run the Ark implementation. This will help you understand the protocol better and test the new features in a controlled environment.
- Happy coding, Arkonauts! We’re eager to see what you’ll build with Ark v0.2! 💻🌟
- ## BitVM2: Bridging Bitcoin to Second Layers
	- BitVM2 introduces a groundbreaking paradigm that enables arbitrary program execution on Bitcoin, combining Turing-complete expressiveness with the security of Bitcoin consensus. This novel approach leverages optimistic computation, assuming operators are honest unless proven otherwise by challengers through fraud proofs, alongside SNARK proof verification scripts split into sub-programs executed within Bitcoin transactions. This ensures program correctness with just three on-chain transactions, significantly reducing the complexity and number of transactions required in prior BitVM designs. BitVM2 does not require any consensus changes to Bitcoin, making it a flexible and powerful tool for enhancing Bitcoin's functionality.
- ### Key Features of BitVM2
	- **Optimistic Computation and SNARK Verification**: BitVM2 utilises optimistic computation, where the computing party (operator) is assumed to be honest until proven guilty using fraud proofs. Operators commit on-chain to correctly executing a SNARK verifier off-chain for any arbitrary program. This verifier is implemented in Bitcoin Script and split into smaller sub-programs that are executable within Bitcoin blocks. If a challenge arises, the operator must reveal on-chain the intermediary results of these sub-programs, allowing anyone to challenge and disprove a faulty operator with just three on-chain transactions.
	- **Permissionless Challenging**: Unlike the original BitVM design, which limited challenging to a fixed set of operators, BitVM2 introduces permissionless challenging. This means that any user with a Bitcoin full node can act as a challenger, significantly enhancing the security and trustworthiness of the system. This is a major improvement over previous designs, which required up to 70 on-chain transactions over multiple weeks to resolve disputes, whereas BitVM2 achieves the same in just 1-2 weeks.
	- **BitVMBridge Protocol**: BitVM2 enables the creation of BitVMBridge, a novel protocol designed to bridge BTC to Bitcoin layer 2 systems. This protocol significantly improves existing Bitcoin bridge designs by reducing trust assumptions from an honest majority (t-of-n) to existential honesty (1-of-n) during setup. It also ensures that only one active rational operator is needed to guarantee the safety of deposits, with permissionless challengers available to safeguard the protocol.
- ### BitVMBridge: Trust-Minimized Bitcoin Bridge
	- **Bridge Overview**: The BitVMBridge protocol facilitates the transfer of BTC from Bitcoin to other blockchain systems, particularly layer 2 networks. It addresses the critical issue of custody—how BTC is securely stored while its wrapped counterpart is used on other blockchains. BitVMBridge reduces the trust assumptions typically required in bridge protocols, relying on just one honest signer during setup and at least one rational operator during execution.
	- **Peg-In and Peg-Out Operations**: The bridge operates through two main processes: Peg-In, where a user deposits BTC on Bitcoin, and Peg-Out, where another user withdraws the BTC back to the Bitcoin blockchain. BitVM2 ensures that any user holding coins in the sidesystem can securely and efficiently move those coins back to Bitcoin, with the bridge protocol only requiring a few transactions on-chain to ensure the safety and liveness of the process.
	- **Optimistic Function Verification**: To verify the correctness of operations without burdening the Bitcoin blockchain, BitVM2 employs a technique called optimistic function verification. This reduces the on-chain footprint under honest operation, requiring operators to reveal outputs and intermediary states only if challenged. This approach significantly lowers transaction fees and improves the efficiency of the protocol.
	- **Security and Scalability**: BitVM2 introduces a model where challengers and operators work together to maintain the security of the bridge. Challengers can dispute an operator's claim if they suspect foul play, forcing the operator to prove the validity of their actions on-chain. This ensures that the bridge remains secure even with minimal trust assumptions.
- ### Practical Applications and Future Development
	- BitVM2's design opens up a wide range of possibilities for Bitcoin, enabling the development of complex applications previously thought impossible due to Bitcoin's scripting limitations. By bridging Bitcoin to layer 2 solutions, BitVM2 allows for greater scalability, more expressive smart contracts, and enhanced interoperability with other blockchain systems.
	- As BitVM2 continues to evolve, future updates are expected to further refine the protocol, potentially reducing on-chain costs even further and enhancing the overall efficiency and security of the system. BitVMBridge, in particular, could become a key component in the broader adoption of Bitcoin as a base layer for complex, multi-chain applications.
	  
	  This section covers the key features and potential applications of BitVM2, highlighting its significance in bridging Bitcoin to second layers and enabling more complex, scalable applications.